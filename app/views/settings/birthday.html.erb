<div class='container'>
  <%= render 'forms/errors', resource: Current.user %>

  <div class='row px-3'>
    <div class='col-12 mx-auto'>

      <h1 class='display-4'>
        Settings<span class='text-secondary'>:</span> <b>Birthday</b>
      </h1>

      <div class='row mt-5'>
        <div class='col-12 col-md-3 mb-5'>
          <%= render 'settings/subnav' %>
        </div>

        <div class='col-12 col-md-9 mb-5'>

          <%= form_with model: Current.user do |form| %>
            <%= hidden_field_tag :form_name, :birthday %>

            <fieldset class='border p-3 pb-0 mb-3 bg-light'>
              <legend class='form-text'>Age verification</legend>

              <div class='mb-3'>
                <%= form.label :birthday, class: 'form-label' %>

                <div class='mb-3'>
                  <%= form.date_select :birthday,
                                       {
                                         prompt:            true,
                                         add_month_numbers: true,
                                         start_year:        Time.now.year - 12,
                                         end_year:          Time.now.year - 120
                                       },
                                       { class: 'form-select form-select-lg d-inline w-auto' } %>
                </div>

                <div class='alert alert-info'>
                  <b>Two things:</b>
                  <ul class='m-0'>
                    <li>You must be at least 18 years old to view or publish 18+/NSFW/adult content.</li>
                    <li>
                      <b>You only get to change your birthday setting once</b>, because real life birthdays donâ€™t change.<br>
                      <i>One change is to allow you to correct an accidental mistake you might have made when signing up.</i>
                    </li>
                  </ul>
                </div>
              </div>
            </fieldset>

            <% if Current.user.adult? %>
              <fieldset class='border p-3 pb-0 mb-3 bg-light'>
                <legend class='form-text'>Age on profile</legend>
                <div class="form-check form-switch mb-3">
                  <%= form.check_box :show_age, role: 'switch',                   class: 'form-check-input' %>
                  <%= form.label     :show_age, 'Show your age on your profile?', class: 'form-check-label' %>
                </div>
              </fieldset>
            <% end %>

            <div class='mb-3 text-end'>
              <%= form.submit 'Save', class: 'btn btn-primary btn-lg' %>
            </div>
          <% end %>

        </div>
      </div>

    </div>
  </div>
</div>
